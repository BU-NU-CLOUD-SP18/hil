<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &#8212; HIL 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="HIL 1.0 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="consistency-model.html" />
    <link rel="prev" title="Overview" href="developer-guidelines.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<span id="introduction"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>This is a guide to the best practices for deploying Hardware as a Service
(HaaS). It documents many of the assumptions that the HaaS development team
made in terms of how HaaS would be used, how it would be deployed, and the
configuration of the hardware systems it would be managing.</p>
<p>For instructions on installing HaaS, take a look at <a class="reference external" href="INSTALL.rst">INSTALL.rst</a>.
For a general overview, please take a look at <a class="reference external" href="README.rst">README.rst</a>.</p>
</div>
<div class="section" id="nodes">
<span id="nodes"></span><h1>Nodes<a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bios-firmware">
<span id="bios-firmware"></span><h2>BIOS/Firmware<a class="headerlink" href="#bios-firmware" title="Permalink to this headline">¶</a></h2>
<p>We recommend coming up with a standard list of BIOS settings for your nodes and
documenting them. These could vary between pools of different types, like
virtualization based (which could benefit more from hyperthreading) vs HPC
(which might not).</p>
<p>Settings useful to document would include:</p>
<ul class="simple">
<li>BIOS boot order</li>
<li>Hyperthreading</li>
<li>Whether turbo boosting is enabled</li>
</ul>
<div class="section" id="boot-order">
<span id="boot-order"></span><h3>Boot order<a class="headerlink" href="#boot-order" title="Permalink to this headline">¶</a></h3>
<p>A provider should consistently set up all nodes to have the same order. It is
recommended that this order consist of: cdrom, disk, PXE. By placing
CDROM first, the datacenter administrator can easily boot the system locally in
order to perform maintenance tasks like upgrading the BIOS.  Having disk come
before PXE allows customers who install an OS to have it boot first, reducing
boot times and avoiding accidental overwriting of their installed OS.</p>
<ul class="simple">
<li>Note: In the future, we anticipate a feature (see <a class="reference external" href="https://github.com/CCI-MOC/haas/issues/303">issue
303</a>) where customers can
explicitly request PXE booting for the next boot via an API call, however the
permanent boot order would not likely be able to be changed as that is not
supported by IPMI in a standard way.</li>
</ul>
</div>
<div class="section" id="devices">
<span id="devices"></span><h3>Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h3>
<p>For higher security, it may be desirable to disable CD/DVD access to the OS,
only enabling it when needed for maintenance or other reasons. This is because
an inadvertent CD/DVD left in the drive could allow a user to burn an image.
Placed in another system or left in the tray, this image could then allow an
attack on another system.</p>
</div>
<div class="section" id="firmware-security">
<span id="firmware-security"></span><h3>Firmware security<a class="headerlink" href="#firmware-security" title="Permalink to this headline">¶</a></h3>
<p>End users will have full control your node. If they are not trusted, it is
extremely important to disable firmware update mechanisms before access is
first given to it. The less reachable this is through remote access (ie -
hardware jumpers vs. software settings) the more secure the system should be.</p>
<p>Ideally, hardware that does not trust the user to update firmware should be
used. Examples of this are AMD Seamicro systems as well as HP Moonshot. Short
of that, it is recommended that one lock down the firmware options as much as
possible in case access were ever gained to the boot screens or IPMI interface.
This includes setting a BIOS menu password as well as disabling any kind of
privileged access from within the OS.</p>
<p>Firmware updates for the motherboard and for peripheral devices should be
disabled via hardware (ideally) or software mechanisms, as they could represent
a vector by which a user (whether maliciously or unintentionally) could impact
future users of a machine and possibly violate their security. It is important
to note that administrators should also monitor the manufacturers&#8217; websites for
legitimate firmware upgrades and should regularly update nodes themselves, as
these could contain security or other fixes. Here is an incomplete list of
firmwares to which these guidelines apply:</p>
<ul class="simple">
<li>BIOS Should be configured <em>not</em> to allow updates from within the OS, since
even the root user is untrusted.</li>
<li>Hard disks</li>
<li>Network cards</li>
<li>GPUs</li>
<li>Other peripherals</li>
</ul>
</div>
</div>
</div>
<div class="section" id="networks">
<span id="networks"></span><h1>Networks<a class="headerlink" href="#networks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="switch-configuration">
<span id="switch-configuration"></span><h2>Switch configuration<a class="headerlink" href="#switch-configuration" title="Permalink to this headline">¶</a></h2>
<p>In order to deploy HaaS, at least one switch supported by one of HaaS&#8217;s
drivers is required.</p>
<p>This currently includes:</p>
<ul class="simple">
<li>Dell Powerconnect</li>
<li>Cisco Nexus 3500 &amp; 5500 (other nexus switches may work as well, but
are untested)</li>
</ul>
<p><code class="docutils literal"><span class="pre">null</span></code> and <code class="docutils literal"><span class="pre">mock</span></code> drivers are also included for testing and
experimentation.</p>
</div>
<div class="section" id="vlans">
<span id="vlans"></span><h2>VLANs<a class="headerlink" href="#vlans" title="Permalink to this headline">¶</a></h2>
<p>The network administrator will need to pre-allocate a set of VLANs to
dedicate to HaaS&#8217;s management. These are kept within the <em>vlan</em> section
of the config file.</p>
</div>
<div class="section" id="headnodes">
<span id="headnodes"></span><h2>Headnodes<a class="headerlink" href="#headnodes" title="Permalink to this headline">¶</a></h2>
<p>Currently, the system or systems that run the HaaS service (sometimes
informally called the HaaS master) also run the Headnode virtual machines.
These can be used to access and administrate user networks, whether public or
private. To facilitate this, all VLANs that are allocatable by HaaS must be
trunked using 802.1Q to HaaS service systems. This port upon which these
networks are shared is indicated using the <em>trunk_nic</em> member of the
<strong>[headnode]</strong> section.</p>
</div>
<div class="section" id="multiple-switches">
<span id="multiple-switches"></span><h2>Multiple Switches<a class="headerlink" href="#multiple-switches" title="Permalink to this headline">¶</a></h2>
<p>HaaS supports networks spanning multiple switches via 2 mechanisms:</p>
<ol class="simple">
<li>Vendor-specific &#8220;stacking&#8221; features that make all of the switches appear to
be one big one.</li>
<li>By running a network cable between the two switches, and setting all
VLANs belonging to HaaS to be trunked (tagged) on the interfaces
connecting those switches.</li>
</ol>
<p>IMPORTANT: If you&#8217;re operating a multi-switch deployment using technique (2)
above, you should be  sure to configure the switches to prevent VLAN hopping
attacks::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">en</span><span class="o">.</span><span class="n">wikipedia</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">wiki</span><span class="o">/</span><span class="n">VLAN_hopping</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a></li>
<li><a class="reference internal" href="#nodes">Nodes</a><ul>
<li><a class="reference internal" href="#bios-firmware">BIOS/Firmware</a><ul>
<li><a class="reference internal" href="#boot-order">Boot order</a></li>
<li><a class="reference internal" href="#devices">Devices</a></li>
<li><a class="reference internal" href="#firmware-security">Firmware security</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#networks">Networks</a><ul>
<li><a class="reference internal" href="#switch-configuration">Switch configuration</a></li>
<li><a class="reference internal" href="#vlans">VLANs</a></li>
<li><a class="reference internal" href="#headnodes">Headnodes</a></li>
<li><a class="reference internal" href="#multiple-switches">Multiple Switches</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="developer-guidelines.html" title="previous chapter">Overview</a></li>
      <li>Next: <a href="consistency-model.html" title="next chapter">&lt;no title&gt;</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/deployment.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, HIL Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/deployment.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>