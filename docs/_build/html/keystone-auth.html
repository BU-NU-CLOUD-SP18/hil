<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage &#8212; HIL 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="HIL 1.0 documentation" href="index.html" />
    <link rel="next" title="Overview" href="logging.html" />
    <link rel="prev" title="Part 1: Install PostgreSQL server." href="Install_configure_PostgreSQL_CENTOS7.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>An authentication backend for Openstack&#8217;s Keystone is maintained in this
source tree as <code class="docutils literal"><span class="pre">haas.ext.auth.keystone</span></code>. This document describes its
configuration and usage in detail.</p>
<p>NOTE: The HaaS command line interface only supports the keystone v3 API.
The server supports anything supported by <a class="reference external" href="http://docs.openstack.org/developer/keystonemiddleware/">keystonemiddleware</a>.</p>
<div class="section" id="usage">
<span id="usage"></span><h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>Once HaaS has been configured to work with Keystone, an administrator
must manually add Openstack projects to HaaS before they can access the
HaaS API. The HaaS project names must correspond to the Openstack UUIDs.
For example, an administrator may execute the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">haas</span> <span class="n">project_create</span> <span class="mi">00</span><span class="n">de7c85e594473db7461cdf7367166a</span>
</pre></div>
</div>
<p>To grant the Openstack project with that UUID access to HaaS.</p>
<p>Note that the plugin recognizes any user with an <code class="docutils literal"><span class="pre">admin</span></code> role on any
project as a HaaS administrator, similar to the default policy for core
Openstack projects. This is true even for projects not that do not exist
within HaaS; such projects will not be able to own resources (such as
nodes networks, etc), but may perform admin-only operations (such as
creating projects).</p>
<p>The HaaS command line interface will look for the same <code class="docutils literal"><span class="pre">OS_*</span></code>
environment variables used by the Openstack command line tools; these
may be set by a user to authenticate when using the CLI.</p>
<p>A script to set these variables correctly can be downloaded from the
Openstack web dashboard via &#8220;Access &amp; Security.&#8221;</p>
</div>
<div class="section" id="configuration">
<span id="configuration"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>As with any other extension, you must load the extension in <code class="docutils literal"><span class="pre">haas.cfg</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">extensions</span><span class="p">]</span>
<span class="n">haas</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">keystone</span> <span class="o">=</span>
</pre></div>
</div>
<p>The backend must then be configured to talk to your keystone server.
The keystone project maintains documentation on how to do this at:</p>
<p><a class="reference external" href="http://docs.openstack.org/developer/keystonemiddleware/middlewarearchitecture.html">http://docs.openstack.org/developer/keystonemiddleware/middlewarearchitecture.html</a></p>
<p>Configuring HaaS to talk to Keystone deviates in the following ways:</p>
<ul class="simple">
<li>The paste configuration is not used; you can simply ignore the
sections that refer to paste.</li>
<li>The options that the Keystone documentation puts in the section
<code class="docutils literal"><span class="pre">[keystone_authtoken]</span></code> should instead be placed in the extension&#8217;s
section in <code class="docutils literal"><span class="pre">haas.cfg</span></code>, i.e. <code class="docutils literal"><span class="pre">[haas.ext.auth.keystone]</span></code>.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Install_configure_PostgreSQL_CENTOS7.html" title="previous chapter">Part 1: Install PostgreSQL server.</a></li>
      <li>Next: <a href="logging.html" title="next chapter">Overview</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/keystone-auth.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, HIL Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/keystone-auth.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>